# Integer Overflow/Underflow Vulnerability for Smart Contracts

## Overview
An **Integer Overflow/Underflow** vulnerability occurs when arithmetic operations exceed the range of the integer type, causing unintended behavior. In Solidity, integers have fixed sizes (e.g., `uint8`, `uint256`), and exceeding their limits can cause unexpected values.

## Vulnerability Detection Criteria
A function is considered vulnerable if it meets the following conditions:

1. **ArithmeticOperation**: The function performs arithmetic operations (`+`, `-`, `*`).
2. **SafeLibraryInvocation**: The operation is not constrained by a safe math library.
3. **ConditionDeclaration**: The operation is not validated by a conditional statement (`require`, `assert`).

A function is labeled vulnerable (`label = 1`) if:

**`ArithmeticOperation ∧ !SafeLibraryInvocation ∧ !ConditionDeclaration`**

---

## Examples of Vulnerable Cases

### 1. Overflow Without Validation
The function `add` does not check for integer overflow when adding `value` to `sellerBalance`. If `sellerBalance` is at its maximum (`255` for `uint8`), adding any number causes it to wrap around to `0`.

![image](https://github.com/user-attachments/assets/3da33b91-f43b-467e-a29c-63a017fd9dbe)

- **Issue**: No validation before addition.
- **Risk**: An attacker can exploit this to manipulate values.
- **Label**: 1 (Vulnerable)

---

## Examples of Safe Cases (Not Vulnerable)

### 1. Using Safe Math Library
The function `transfer` ensures safe arithmetic operations using the `SafeMath` library.

![image](https://github.com/user-attachments/assets/8b96a6f9-7905-461f-8503-50c4a67dadcc)

- **Fix**: Uses `SafeMath` to ensure secure arithmetic operations.
- **Label**: 0 (Safe)

### 2. Using Conditional Statements (`assert` or `require`)
The function `add` uses an `assert` statement to ensure no overflow occurs.

![image](https://github.com/user-attachments/assets/393e2aa6-4386-4cc0-b49c-969b3f7d9566)

- **Fix**: `assert(sellerBalance >= value);` ensures no overflow occurs.
- **Label**: 0 (Safe)

### 3. Using `require` for Validation
The function `transfer` ensures the balance is sufficient before subtraction.

![image](https://github.com/user-attachments/assets/d147bc2e-a133-42c0-941a-a90c1f6035ae)

- **Fix**: `require(balanceOf[msg.sender] >= value);` prevents underflow before subtraction.
- **Label**: 0 (Safe)

---

## Summary

A function has an **Integer Overflow/Underflow Vulnerability** if:
- It performs arithmetic operations without validation.
- It does not use a safe math library (`SafeMath`).
- It does not use `require` or `assert` to check values before operations.

A function is **Safe** if:
- It uses a safe math library to handle arithmetic operations securely.
- It includes `require` or `assert` statements to validate conditions before execution.
